## 性能优化

#### 概述

#### 内存管理

- 内存：由可读写的单元组成，表示一片可操作的空间
- 管理：认为的去操作一片空间的申请，实用和释放
- 内存管理： 开发者主动申请、实用、释放空间。
- 管理流程：申请-实用-释放

#### JS 垃圾回收

- JS 内存管理是自动的
- 对象不再被引用时是垃圾
- 对象不能从根上访问到时是垃圾

JS 中的可达对象

- 可以访问到的对象就是可达对象（引用，作用域链）
- 可达的标准就是从根出发是否能够被找到
- JS 中的根可以理解为是全局变量对象

#### GC 算法

1.  GC 的定义与作用：

- GC 就是垃圾回收机制的简写
- GC 可以找到内存中的垃圾、并释放和回收空间

2.  GC 中的垃圾是什么

- 程序中不再需要使用的对象
- 程序中不能再访问到的对象

3. GC 算法是什么

- GC 是的一种机制，垃圾回收器完成具体的工作
- 工作的机制就是查找垃圾释放空间、回收空间
- 算法就是工作时查找和回收时所遵循的规则

4.  常见的 GC 算法

- 引用计数
- 标记清除
- 标记整理
- 分代回收

#### 引用计数算法实现原理

- 核心思想： 设置引用数，判断当前引用数是否为 0
- 引用计数器
- 引用关系改变时，修改引用数字
- 引用数字为 0 时立即回收

#### 引用计数算法优缺点

1. 优点：

- 发现垃圾时立即回收
- 最大限度减少程序暂停

2. 缺点：

- 无法回收循环引用对象
- 时间开销大（计数，改数）

#### 标记清楚算法实现原理

- 核心思想：分标记和清楚两个阶段完成
- 遍历所有对象找对象标记活动对象
- 遍历所有对象清楚没有标记对象
- 回收相应空间

#### 标记清除算法优缺点

1. 优点：

- 相对标记计数 可以解决循环引用不能回收的问题

2. 缺点：

- 空间碎片化问题，不能让空间最大化的使用
- 不会立即回收垃圾对象

#### 标记整理算法实现原理

- 标记整理可以看做是标记清除的增强
- 标记阶段的操作和标记清楚一致
- 清楚阶段会先执行整理，移动对象位置（减少碎片空间，使空间最大化的使用）
- 缺点：不会立即回收垃圾对象

#### 常见 GC 算法的总结
